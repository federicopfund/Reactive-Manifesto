@(form: Form[controllers.ContactUpdateForm], contact: models.ContactRecord)(implicit request: RequestHeader, flash: Flash)

@admin.adminLayout("Editar Contacto") {
    <div style="margin-bottom: 1.25rem;">
        <a href="@routes.AdminController.dashboard(0, None)" style="color: #475569; text-decoration: none; font-size: 0.8125rem; font-weight: 500;">
            ‚Üê Volver al Dashboard
        </a>
    </div>
    
    <div class="card" style="max-width: 640px;">
        <h2 style="font-size: 1.125rem; font-weight: 700; color: #1a202c; margin-bottom: 1.5rem;">
            Editar Contacto #@contact.id.getOrElse("-")
        </h2>
        
        <form method="POST" action="@routes.AdminController.updateContact(contact.id.get)">
            @helper.CSRF.formField
            <input type="hidden" name="id" value="@contact.id.get" />
            
            <div style="margin-bottom: 1.25rem;">
                <label for="name">
                    Nombre <span style="color: #8b4c4c;">*</span>
                </label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    required
                    value="@form("name").value.getOrElse(contact.name)"
                />
                @if(form("name").hasErrors) {
                    <div style="color: #8b4c4c; margin-top: 0.375rem; font-size: 0.8125rem;">
                        @form("name").errors.map(_.message).mkString(", ")
                    </div>
                }
            </div>
            
            <div style="margin-bottom: 1.25rem;">
                <label for="email">
                    Email <span style="color: #8b4c4c;">*</span>
                </label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    required
                    value="@form("email").value.getOrElse(contact.email)"
                />
                @if(form("email").hasErrors) {
                    <div style="color: #8b4c4c; margin-top: 0.375rem; font-size: 0.8125rem;">
                        @form("email").errors.map(_.message).mkString(", ")
                    </div>
                }
            </div>
            
            <div style="margin-bottom: 1.25rem;">
                <label for="message">
                    Mensaje <span style="color: #8b4c4c;">*</span>
                </label>
                <textarea 
                    id="message" 
                    name="message" 
                    rows="6"
                    required
                >@form("message").value.getOrElse(contact.message)</textarea>
                @if(form("message").hasErrors) {
                    <div style="color: #8b4c4c; margin-top: 0.375rem; font-size: 0.8125rem;">
                        @form("message").errors.map(_.message).mkString(", ")
                    </div>
                }
            </div>
            
            <div style="margin-bottom: 1.25rem;">
                <label for="status">
                    Estado <span style="color: #8b4c4c;">*</span>
                </label>
                <select 
                    id="status" 
                    name="status" 
                    required
                >
                    <option value="pending" @if(form("status").value.getOrElse(contact.status) == "pending") { selected }>
                        Pendiente
                    </option>
                    <option value="processed" @if(form("status").value.getOrElse(contact.status) == "processed") { selected }>
                        Procesado
                    </option>
                    <option value="archived" @if(form("status").value.getOrElse(contact.status) == "archived") { selected }>
                        Archivado
                    </option>
                </select>
                @if(form("status").hasErrors) {
                    <div style="color: #8b4c4c; margin-top: 0.375rem; font-size: 0.8125rem;">
                        @form("status").errors.map(_.message).mkString(", ")
                    </div>
                }
            </div>
            
            <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem;">
                <button type="submit" class="btn btn-primary">
                    Actualizar Contacto
                </button>
                <a href="@routes.AdminController.viewContact(contact.id.get)" class="btn btn-secondary">
                    Cancelar
                </a>
            </div>
        </form>
    </div>
}
