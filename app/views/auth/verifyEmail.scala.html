@(email: String, userId: Long, errorMessage: Option[String] = None)(implicit request: RequestHeader, messages: Messages)

@main("Verificaci√≥n de Email") {
    <section class="verification-section">
        <div class="container">
            <div class="verification-container">
                <div class="verification-card">
                    <div class="verification-header">
                        <div class="verification-icon">üìß</div>
                        <h1>Verificaci√≥n de Email</h1>
                        <p class="verification-subtitle">Hemos enviado un c√≥digo de 3 d√≠gitos a tu correo</p>
                    </div>

                    <div class="email-display">
                        <span class="email-icon">‚úâÔ∏è</span>
                        <span class="email-text">@email</span>
                    </div>

                    @errorMessage.map { error =>
                        <div class="alert alert-error">
                            <span class="alert-icon">‚úó</span>
                            <span class="alert-message">@error</span>
                        </div>
                    }

                    <form method="POST" action="@routes.AuthController.verifyEmailCode()" class="verification-form">
                        @helper.CSRF.formField
                        <input type="hidden" name="userId" value="@userId">
                        
                        <div class="form-group">
                            <label for="code" class="form-label">C√≥digo de Verificaci√≥n</label>
                            <input 
                                type="text" 
                                id="code" 
                                name="code" 
                                class="form-input code-input"
                                placeholder="000"
                                maxlength="3"
                                pattern="[0-9]{3}"
                                required
                                autofocus
                            >
                            <p class="form-hint">Ingresa el c√≥digo de 3 d√≠gitos que recibiste por email</p>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">
                            Verificar C√≥digo
                        </button>
                    </form>

                    <div class="verification-footer">
                        <p class="expiration-notice">‚è±Ô∏è El c√≥digo expira en 5 minutos</p>
                        <div class="resend-section">
                            <p>¬øNo recibiste el c√≥digo?</p>
                            <a href="@routes.AuthController.resendVerificationCode(userId)" class="btn btn-secondary btn-sm">
                                Reenviar C√≥digo
                            </a>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h3>üí° Consejos</h3>
                    <ul>
                        <li>Revisa tu bandeja de entrada y spam</li>
                        <li>El c√≥digo tiene 3 d√≠gitos num√©ricos</li>
                        <li>Tienes hasta 3 intentos para ingresar el c√≥digo correcto</li>
                        <li>Si el c√≥digo expira, puedes solicitar uno nuevo</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
}
